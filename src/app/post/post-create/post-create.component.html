

<mat-spinner class="spinner" color="accent" *ngIf="isLoading"></mat-spinner>
    <div class="create-form" *ngIf="!isLoading">
        <form class="form-group" [formGroup]="postForm" (ngSubmit)="onSubmit()">
            <div class="form-control">
                <mat-form-field>
                    
                    <input matInput type="text" placeholder="firstName*" formControlName="firstName">
                </mat-form-field>
                <div class="error-field" [hidden]="postForm.get('firstName').untouched">
                    <!-- <span class="error-msg" *ngIf="postForm.get('firstName').errors?.required">
                        Please enter firstName</span> -->
                        <mat-error *ngIf="postForm.get('firstName').errors?.required">
                            Please enter firstName
                        </mat-error>
                </div>
                </div>
        
            <div class="form-control">
                
                <mat-form-field>
                    <input matInput type="text" placeholder="lastName*" formControlName="lastName">
                </mat-form-field>
                <div class="error-field" [hidden]="postForm.get('lastName').untouched">
                    <span class="error-msg" *ngIf="postForm.get('lastName').errors?.required">
                        Please enter lastName</span>
                    </div>
            </div>
        
            <div class="form-control">
                <mat-form-field>
                    <input matInput type="email" placeholder="email*" formControlName="email"
                    pattern='^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$'>
                </mat-form-field>
                
                <div class="error-field" [hidden]="postForm.get('email').untouched">
                    <span class="error-msg" *ngIf="postForm.get('email').errors?.required || postForm.get('email').invalid">
                        Please enter valid email</span>
                    </div>
            </div>
        
            <div class="form-control">
                <span>
                    <mat-form-field class="phone-data">
                        <mat-label>Phone</mat-label>
                        <input matInput type="text" placeholder="0123456789" formControlName="phone" maxlength="10" 
                    pattern="^[0-9]{10}$">
                    </mat-form-field>
                    
                </span>
                <i class="fa fa-info-circle tooltip">
                    <span class="tooltiptext">Please enter phone of 10 digits</span>
                </i>
                <div class="error-field" [hidden]="postForm.get('phone').untouched">
                    <span class="error-msg" *ngIf="postForm.get('phone').errors?.required || postForm.get('phone').invalid">
                        Please enter phone of 10 digits
                    </span>
                </div>
            </div>
        
            <div>
                <!-- <button type="button" (click)="filePicker.click()">Choose Image</button> -->
                <button class="pointer" type="button" mat-raised-button color="accent" 
                (click)="filePicker.click()">Choose Image</button>
                <input type="file" #filePicker (change)="imageEvent($event)">
            </div>
            <div class="image-preview" *ngIf="imagePreview!=='' && imagePreview && postForm.get('image').valid">
                <img [src]="imagePreview">
            </div>
            <span class="error-msg" *ngIf="showError">
                Please enter appropriate detail
            </span>
            <span class="error-msg" *ngIf="emailError">
                Email already exist
            </span>
            <div class="form-control">
                <button class="pointer" type="submit" mat-raised-button color="primary">Submit</button>
                <!-- <button class="pointer" mat-raised-button color="primary" type="submit">Submit</button> -->
            </div>
        </form>
    </div>
