

<mat-spinner *ngIf="isLoading"></mat-spinner>
<form class="form-group" [formGroup]="postForm" (ngSubmit)="onSubmit()"  *ngIf="!isLoading">
    <div class="form-control"><input type="text" placeholder="firstName*" formControlName="firstName">
        <div [hidden]="postForm.get('firstName').untouched">
            <span class="error-msg" *ngIf="postForm.get('firstName').errors?.required">
                Please enter firstName</span>
        </div>
    </div>

    <div class="form-control"><input type="text" placeholder="lastName*" formControlName="lastName">
        <div [hidden]="postForm.get('lastName').untouched">
            <span class="error-msg" *ngIf="postForm.get('lastName').errors?.required">
                Please enter lastName</span>
            </div>
    </div>

    <div class="form-control"><input type="email" placeholder="email*" formControlName="email"
        pattern='^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$'>
        <div [hidden]="postForm.get('email').untouched">
            <span class="error-msg" *ngIf="postForm.get('email').errors?.required || postForm.get('email').invalid">
                Please enter email</span>
            </div>
    </div>

    <div class="form-control phone-data">
        <span>
            <input type="text" placeholder="0123456789" formControlName="phone" maxlength="10" 
            pattern="[0-9]{10}">
        </span>
        <i class="fa fa-info-circle tooltip">
            <span class="tooltiptext">Please enter phone of 10 digits</span>
        </i>
        <div [hidden]="postForm.get('phone').untouched">
            <span class="error-msg" *ngIf="postForm.get('phone').errors?.required">
                Please enter phone of 10 digits
            </span>
        </div>
    </div>

    <div>
        <button type="button" (click)="filePicker.click()">Choose Image</button>
        <input type="file" #filePicker (change)="imageEvent($event)">
    </div>
    <div class="image-preview" *ngIf="imagePreview!=='' && imagePreview && postForm.get('image').valid">
        <img [src]="imagePreview">
    </div>
    <span class="error-msg" *ngIf="showError">
        Please enter appropriate detail
    </span>
    <span class="error-msg" *ngIf="emailError">
        Email already exist
    </span>
    <div class="form-control"><button class="pointer" type="submit">Submit</button></div>
</form>
